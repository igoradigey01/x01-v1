<div class="container mat-typography">
  <mat-card class="cart">
    <mat-card-header class="title">
      <div class="card-header mat-h3">Редактировать профиль</div>
      <div>
        <button mat-button (click)="onBack()">
          <mat-icon>keyboard_backspace</mat-icon>
        </button>
      </div>
    </mat-card-header>

    <mat-card-content>
      <!--Error messages Server output start-->

      <div class="error" *ngIf="_errorMgs?.length">
        <ul>
          <li *ngFor="let error of _errorMgs">
            {{ error }}
          </li>
        </ul>
      </div>

      <!--Error messages Server output end-->

      <div *ngIf="showSuccess"  role="alert">
        Данные Пользователя Обновлены !!
      </div>
      <div *ngIf="!showSuccess">
      <form
        class="form-signin"
        #registerForm="ngForm"
        novalidate
        (ngSubmit)="submitForm(registerForm)"
      >
        <div class="item-form">
          <mat-form-field class="input-field" appearance="standard">
            <mat-label>Ваше Имя:</mat-label>
            <input
              matInput
              type="text"
              name="firstName"
              [(ngModel)]="User.firstName"
              #firstN="ngModel"
              class="form-control"
              required
              minlength="3"
            />
            <mat-error *ngIf="firstN.hasError('required')"
              >firstName обязателeн</mat-error
            >
            <mat-error *ngIf="firstN.hasError('minlength')"
              >Please enter a valid password minlength 3
            </mat-error>
          </mat-form-field>
        </div>
        <div class="item-form">
          <mat-form-field class="input-field" appearance="standard">
            <mat-label>Ваше Отчество:</mat-label>
            <input
              matInput
              type="text"
              name="lastName"
              [(ngModel)]="User.lastName"
              #lastN="ngModel"
              class="form-control"
              required
              minlength="3"
            />
            <mat-error *ngIf="lastN.hasError('required')"
              >lastName обязателeн</mat-error
            >
            <mat-error *ngIf="lastN.hasError('minlength')"
              >Please enter a valid password minlength 3
            </mat-error>
          </mat-form-field>
        </div>

        <div class="item-form">
          <mat-form-field class="input-field" appearance="standard">
            <mat-label>Телефон:</mat-label>
            <input
              matInput
              type="text"
              name="phone"
              [(ngModel)]="User.phone"
              #phone="ngModel"
              class="form-control"
              required
              pattern="[+0-9]{12}"
              minlength="7"
            />
            <mat-error *ngIf="phone.hasError('required')"
              >phone обязателeн</mat-error
            >
            <mat-error *ngIf="phone.hasError('minlength')"
              >Please enter a valid phone minlength 7
            </mat-error>
            <mat-error *ngIf="phone.hasError('pattern')"
              >Please enter a valid phone 
            </mat-error>
            
          </mat-form-field>
        </div>

        <div class="item-form">
          <mat-form-field class="input-field" appearance="standard">
            <mat-label>Адрес доставки :</mat-label>
            <textarea
              matInput
              type="text"
              rows="2"
              name="address"
              [(ngModel)]="User.address"
              #address="ngModel"
              class="form-control"
            ></textarea>
          </mat-form-field>
        </div>

        <div class="item-form">
          <mat-form-field class="input-field" appearance="standard">
            <mat-label>Email:</mat-label>
            <input
              matInput
              type="text"
              name="email"
              [(ngModel)]="User.email"
              #mail="ngModel"
              class="form-control"
              required
              minlength="4"
              email
            />
            <mat-error *ngIf="mail.hasError('required')"
              >Email обязателeн</mat-error
            >
            <mat-error *ngIf="mail.hasError('minlength')"
            >Please enter a valid email address minlength 4 </mat-error
          >
          <mat-error *ngIf="mail.hasError('email')"
            >Please enter a valid email address  </mat-error
          >
          </mat-form-field>
        </div>

        <div>
          <button
            mat-raised-button
            color="accent"
            type="submit"
            [disabled]="!registerForm.valid"
          
            class="btn"
          >
            Обновить
          </button>
        </div>
      </form>
      </div>
    </mat-card-content>
  </mat-card>
</div>
<div></div>
